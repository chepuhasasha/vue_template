# Локализация

[← Назад к корневому README](../../README.md)

Папка `src/locales/` содержит словари переводов для приложения в формате JSON.

## Структура

- `ru.json` / `en.json` — словари переводов.
- `index.ts` — список локалей, базовая локаль, типы и экспорт словарей.

## Ключи и формат

- Ключи хранятся в плоском формате `section.key` (без вложенных объектов).
- Источник истины для ключей — `en.json` (из него формируется тип `TranslationKey`).
- Все ключи должны присутствовать в `en.json`, в остальных локалях ключи могут отсутствовать.
- Не используйте HTML в значениях; форматирование делайте на уровне шаблона.

## Использование

Тексты отображаются через `useI18n`:

```ts
import { useI18n } from '@/composables'

const { t } = useI18n()

console.log(t('login.title'))
```

Поведение:

- `t(key)` возвращает строку текущей локали.
- Если ключ отсутствует в текущей локали, используется значение из `en.json`, а при отсутствии и там возвращается сам ключ.
- Если ключ отсутствует и там, возвращается сам ключ.
- Текущая локаль сохраняется в `localStorage` по ключу `locale`.

## Как добавить/изменить ключ

1. Добавьте ключ и значение в `ru.json`.
2. Добавьте такой же ключ во все остальные локали.
3. Используйте ключ через `t('section.key')` в компонентах.

## Как добавить новую локаль

1. Создайте новый файл, например `fr.json`, и скопируйте в него все ключи.
2. Подключите локаль в `src/locales/index.ts`:

   ```ts
   import fr from './fr.json'

   export const LOCALES = ['ru', 'en', 'fr'] as const

   export const translations = { ru, en, fr } as const
   ```

3. Обновите UI для переключения языков (например, в `src/App.vue`).
