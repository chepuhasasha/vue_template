# Компоненты

[← Назад к корневому README](../../README.md)

## UI компоненты

### UIButton

Кнопка с поддержкой размеров, вариантов оформления, состояния загрузки и круглой формы.

#### Когда использовать

- Для действий пользователя в формах и интерфейсе.
- Для навигационных кнопок, когда требуется единый стиль.

#### Props

| Prop       | Тип                                   | По умолчанию | Описание                                                  |
| ---------- | ------------------------------------- | ------------ | --------------------------------------------------------- |
| `variant`  | `'primary' \| 'secondary' \| 'ghost'` | `'primary'`  | Вариант оформления кнопки.                                |
| `size`     | `'s' \| 'm' \| 'l'`                   | `'m'`        | Размер кнопки.                                            |
| `type`     | `'button' \| 'submit' \| 'reset'`     | `'button'`   | Атрибут `type` для элемента `<button>`.                   |
| `rounded`  | `boolean`                             | `true`       | Делает кнопку полностью круглой (pill).                   |
| `block`    | `boolean`                             | `false`      | Растягивает кнопку на всю ширину контейнера.              |
| `disabled` | `boolean`                             | `false`      | Отключает кнопку.                                         |
| `loading`  | `boolean`                             | `false`      | Показывает индикатор загрузки и делает кнопку неактивной. |

#### Слоты

| Слот      | Описание                         |
| --------- | -------------------------------- |
| `default` | Основной текст кнопки.           |
| `start`   | Иконка/контент слева от текста.  |
| `end`     | Иконка/контент справа от текста. |

#### Поведение и особенности

- Если установлен `loading`, кнопка автоматически становится `disabled`, и вместо текста отображается индикатор загрузки.
- Если передан только слот `start` без `default` и `end`, кнопка получает стиль `icon-only` и уменьшенный padding.
- Состояния `rounded`, `block` и `disabled` управляют CSS-классами компонента.

#### Примеры

```pug
UIButton(variant="primary") Сохранить
UIButton(variant="secondary" size="s" rounded="false") Отмена
UIButton(variant="ghost" loading) Загрузка...
UIButton
    | Добавить
    template(v-slot:start)
        UIIcon(name="activity")
```

---

### UIIcon

Иконка из SVG-реестра с контролем размера.

#### Когда использовать

- Для отображения иконок внутри UI-компонентов или интерфейса.

#### Props

| Prop   | Тип                | По умолчанию | Описание                                                             |
| ------ | ------------------ | ------------ | -------------------------------------------------------------------- |
| `name` | `string`           | —            | Имя иконки, совпадающее с именем SVG-файла без расширения.            |
| `size` | `'s' \| 'm' \| 'l'` | `'m'`        | Размер иконки.                                                       |
| `color` | `string`          | `undefined`  | Цвет иконки (по умолчанию используется `currentColor`).              |

#### Поведение и особенности

- Иконки лежат в `public/icons` и не попадают в бандл.
- Превью всех иконок для подбора находится в `public/icons/icons.png`.
- Для каждой иконки используется `.txt`-файл, где каждая строка — это значение атрибута `d` для `<path>`.
- Компонент собирает `<svg>` с `viewBox="0 0 24 24"`, `stroke-width="2"`, `stroke-linecap="round"`, `stroke-linejoin="round"`, `fill="none"`.
- Данные иконок кэшируются в Cache Storage (если доступен), повторные запросы не выполняются.
- Цвет задается через `color` или через наследование `currentColor`.
- Чтобы добавить новую иконку, поместите `.txt` в `public/icons` и используйте `UIIcon` с нужным `name`.

#### Примеры

```pug
UIIcon(name="activity")
UIIcon(name="alert-circle" size="l" color="#ff5a5f")
```

Пример для кнопки переключения темы:

```pug
UIButton(variant="ghost" @click="toggleTheme")
    UIIcon(:name="isDark ? 'moon-01' : 'sun'" size="m")
```

---

### UIInput

Текстовый инпут с лейблом, подсказкой, ошибкой и встроенной поддержкой `v-model`.

#### Когда использовать

- Для ввода текстовых данных пользователем.
- В формах, где нужна единая типографика и состояние ошибки.

#### Props

| Prop          | Тип                                                                         | По умолчанию | Описание                                                           |
| ------------- | --------------------------------------------------------------------------- | ------------ | ------------------------------------------------------------------ |
| `modelValue`  | `string \| number`                                                          | `''`         | Текущее значение инпута (используется с `v-model`).                |
| `label`       | `string`                                                                    | `undefined`  | Текстовый лейбл над инпутом.                                       |
| `placeholder` | `string`                                                                    | `undefined`  | Placeholder для поля ввода.                                        |
| `name`        | `string`                                                                    | `undefined`  | Атрибут `name` для input.                                          |
| `type`        | `'text' \| 'email' \| 'password' \| 'search' \| 'tel' \| 'url' \| 'number'` | `'text'`     | Тип HTML-инпута.                                                   |
| `size`        | `'s' \| 'm' \| 'l'`                                                         | `'m'`        | Размер инпута.                                                     |
| `disabled`    | `boolean`                                                                   | `false`      | Отключает поле.                                                    |
| `readonly`    | `boolean`                                                                   | `false`      | Делает поле только для чтения.                                     |
| `required`    | `boolean`                                                                   | `false`      | Проставляет атрибут `required`.                                    |
| `error`       | `string`                                                                    | `undefined`  | Текст ошибки (включает error-состояние и aria-атрибуты).           |
| `hint`        | `string`                                                                    | `undefined`  | Подсказка под полем.                                               |
| `id`          | `string`                                                                    | `undefined`  | Явный `id` для input. Если не передан, генерируется автоматически. |

#### Слоты

| Слот  | Описание                                |
| ----- | --------------------------------------- |
| `end` | Контент справа от поля (иконка/кнопка). |

#### События

| Событие             | Payload  | Описание                   |
| ------------------- | -------- | -------------------------- |
| `update:modelValue` | `string` | Эмитится при вводе текста. |
| `blur`              | `string` | Эмитится при уходе фокуса. |

#### Поведение и особенности

- Компонент всегда эмитит строковое значение, так как читает `event.target.value`.
- При наличии `error` добавляется `aria-invalid` и класс ошибки.
- При наличии `hint` и `error` компонент формирует `aria-describedby`, связывая input с подсказкой/ошибкой.
- Если `id` не передан, компонент генерирует уникальный идентификатор автоматически.

#### Примеры

```pug
UIInput(v-model="email" label="Email" type="email" placeholder="name@example.com")
UIInput(v-model="search" size="l" hint="Введите запрос")
    template(v-slot:end)
        UIIcon(name="alert-circle")
UIInput(v-model="password" type="password" error="Неверный пароль")
```

---
